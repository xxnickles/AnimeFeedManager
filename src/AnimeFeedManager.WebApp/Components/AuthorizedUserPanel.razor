@using AnimeFeedManager.WebApp.State
@inject NavigationManager NavigationManager
@if (User is not ApplicationUser)
{
    <MudBadge Icon="@Icons.Material.Filled.Warning" Color="Color.Warning" Overlap="true" Bordered="true" Class="mx-6 my-4" Origin="Origin.TopLeft">
        <MudTooltip Text="Email has not been provided.">
            <MudButton Color="Color.Warning" Variant="Variant.Filled" Size="Size.Small">Limited Access</MudButton>
        </MudTooltip>
    </MudBadge>
}

<MudFab Color="Color.Secondary" StartIcon="@Icons.Filled.Logout" Size="Size.Small" Label="Logout" OnClick="Logout"/>

@code {

    [Parameter]
    public User User { get; set; } = new AnonymousUser();

    private string _logOutPath = "/logout?post_logout_redirect_uri=/";

    private void Logout()
    {
        NavigationManager.NavigateTo(_logOutPath, true, false);
    }

}